<div ng-controller="PasswordCtrl as ctrl">
    <form name="passwordForm" ng-submit="ctrl.update(request)" novalidate>
        <div layout="column" >
            <md-input-container>
                <label>Password</label>
                <input name="password" ng-model="ctrl.request.password" type="password"
                       pattern="(.{7,20})">
                <div ng-show="passwordForm.password.$error.pattern" ng-messages="passwordForm.confirmPassword.$error.compareTo" role="alert">
                    <div ng-message-exp="['pattern']">
                       Ensure: At least 7 characters. But we recommend also one uppercase character, one lowercase character and one special character(@#$%!.)
                    </div>
                </div>
            </md-input-container>
            <md-input-container>
                <label>Re-type</label>
                <input name="confirmPassword" ng-model="ctrl.request.confirmPassword" type="password" compare-to="ctrl.request.password" novalidate>
                <div ng-show="passwordForm.confirmPassword.$error.compareTo" ng-messages="passwordForm.confirmPassword.$error.compareTo" role="alert">
                    <div ng-message-exp="['compare-to']">
                        Don't match
                    </div>
                </div>
            </md-input-container>
        </div>
        <div layout="row">
            <span flex></span>
            <md-button type="submit" ng-disabled="ctrl.request.password == '' || passwordForm.$invalid">Update</md-button>
        </div>
    </form>
</div>